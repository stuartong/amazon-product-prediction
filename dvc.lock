schema: '2.0'
stages:
  load_data:
    cmd: python load_data.py
    deps:
    - path: load_data.py
      md5: 1082ba52b665af6435f4948994c2af2d
      size: 4012
    outs:
    - path: data/prepared
      md5: 7870636af441f6a2358ac2b71ac57a47.dir
      size: 834301147
      nfiles: 2
  preprocess_products:
    cmd: python preprocess_products.py data/prepared
    deps:
    - path: data/prepared
      md5: 7870636af441f6a2358ac2b71ac57a47.dir
      size: 834301147
      nfiles: 2
    - path: preprocess_products.py
      md5: 0bfab1471eb97b3733f55c55f7597e5e
      size: 3214
    params:
      params.yaml:
        preprocess_products:
          word2vec_features: true
          handpicked_features: true
          word2vec_model_name: glove-wiki-gigaword-300
          occurrence_threshold: 500
    outs:
    - path: data/products
      md5: ec94c6cf85277e9b56ca7124893f1c91.dir
      size: 754292159
      nfiles: 1
  preprocess_reviews:
    cmd: python preprocess_reviews.py data/prepared
    deps:
    - path: data/prepared
      md5: 7870636af441f6a2358ac2b71ac57a47.dir
      size: 834301147
      nfiles: 2
    - path: preprocess_reviews.py
      md5: 0c778d4227afa4c18417bc332a2507cd
      size: 1849
    outs:
    - path: data/reviews
      md5: e0866fe512426dbf79e2bd5ee359096b.dir
      size: 158450968
      nfiles: 1
  success_metrics:
    cmd: python create_success_metrics.py data/products data/reviews
    deps:
    - path: create_success_metrics.py
      md5: 52fad55e66a58f46424dbc465aca45d9
      size: 1920
    - path: data/products
      md5: ec94c6cf85277e9b56ca7124893f1c91.dir
      size: 754292159
      nfiles: 1
    - path: data/reviews
      md5: e0866fe512426dbf79e2bd5ee359096b.dir
      size: 158450968
      nfiles: 1
    params:
      params.yaml:
        success_metrics.cutoff: 2
    outs:
    - path: data/metrics
      md5: 04ea029670425bcc5e9359be3ec965bd.dir
      size: 757044146
      nfiles: 1
  supervised_model:
    cmd: python model_supervised.py data/metrics
    deps:
    - path: data/metrics
      md5: 04ea029670425bcc5e9359be3ec965bd.dir
      size: 757044146
      nfiles: 1
    - path: model_supervised.py
      md5: e6dd1ab81a877be4cad072183717caa7
      size: 10632
    params:
      params.yaml:
        supervised_model.gscv: true
        supervised_model.model_type: SVC
        supervised_model.n_jobs: -1
        supervised_model.oversample: false
        supervised_model.param_dict:
          C:
          - 0.1
          - 1
          - 10
          - 100
          gamma:
          - 1
          - 0.1
          - 0.01
          - 0.001
          kernel:
          - rbf
          - poly
          - sigmoid
          random_state:
          - 42
        supervised_model.params:
          random_state: 42
          C: 100
          gamma: 1
          kernel: rbf
        supervised_model.return_train_score: false
        supervised_model.scale: true
        supervised_model.split: 0.8
    outs:
    - path: model\product_success\
      md5: 30b41a8a0b00975c814aedbb448dea8e.dir
      size: 21811066
      nfiles: 7
  evaluate_supervised:
    cmd: python evaluate_supervised.py prdct_supervised_report.json
    deps:
    - path: evaluate_supervised.py
      md5: 9102a4ca9a1a839e4c16d7756a37bbc2
      size: 7098
    - path: model\product_success\
      md5: 30b41a8a0b00975c814aedbb448dea8e.dir
      size: 21811066
      nfiles: 7
    outs:
    - path: prdct_supervised_report.json
      md5: 98c2a0be45f339185daa712407518468
      size: 3303
  prepare_fake_labeled_model:
    cmd: python .\load_prepare_fake_labeled_data.py
    deps:
    - path: data/fake/labeled_data/amazon_reviews_labeled.txt
      md5: ec3f2c1ef9598b56c38fbc00c0ac90de
      size: 8404357
    - path: load_prepare_fake_labeled_data.py
      md5: 8102f957c21d95ec50ef2c48e41c9d72
      size: 2244
    outs:
    - path: data/fake/training
      md5: eefbc6951b4e00dfaf8936f6688967bb.dir
      size: 83484335
      nfiles: 1
  fd_supervised_model:
    cmd: python .\fake_detection_model.py data\fake\training\
    deps:
    - path: data\fake\training\
      md5: eefbc6951b4e00dfaf8936f6688967bb.dir
      size: 83484335
      nfiles: 1
    - path: fake_detection_model.py
      md5: d2ea4a7b8e9176d74a1559b38772e6ac
      size: 10251
    outs:
    - path: model\fake\model\
      md5: 46e92acbaba46e7dc70fdb9cae7a14db.dir
      size: 12772978
      nfiles: 7
  fd_evaluate_supervised:
    cmd: python .\fd_evaluate_supervised.py fd_supervised_report.json
    deps:
    - path: .\fd_evaluate_supervised.py
      md5: a532c8e0f784144d8957e7c0fe863eba
      size: 7022
    - path: model\fake\model
      md5: 46e92acbaba46e7dc70fdb9cae7a14db.dir
      size: 12772978
      nfiles: 7
    outs:
    - path: fd_supervised_report.json
      md5: 75dbbab8b65b7f20ec00c37070b1d541
      size: 3250
