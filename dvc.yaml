stages:
  load_data:
    cmd: python load_data.py http://deepyeti.ucsd.edu/jianmo/amazon/metaFiles2/meta_Appliances.json.gz
      http://deepyeti.ucsd.edu/jianmo/amazon/categoryFiles/Appliances.json.gz
    deps:
    - load_data.py
    - http://deepyeti.ucsd.edu/jianmo/amazon/categoryFiles/Appliances.json.gz
    - http://deepyeti.ucsd.edu/jianmo/amazon/metaFiles2/meta_Appliances.json.gz
    outs:
    - data/prepared
  preprocess_products:
    cmd: python preprocess_products.py data/prepared
    deps:
    - preprocess_products.py
    - data/prepared
    params:
    - preprocess_products
    outs:
    - data/features
  preprocess_reviews:
    cmd: python preprocess_review.py data/prepared
    deps:
    - preprocess_reviews.py
    - data/prepared
    outs:
    - data/features
  success_metrics:
    cmd: python create_success_metrics.py data/features
    deps:
    - create_success_metrics.py 
    - data/features
    params:
    - success_metrics.cutoff
    outs:
    - data/metrics
  