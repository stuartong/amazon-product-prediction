schema: '2.0'
stages:
  load_data:
    cmd: python load_data.py
    deps:
    - path: load_data.py
      md5: 1082ba52b665af6435f4948994c2af2d
      size: 4012
    outs:
    - path: data/prepared
      md5: 7870636af441f6a2358ac2b71ac57a47.dir
      size: 834301147
      nfiles: 2
  preprocess_products:
    cmd: python preprocess_products.py data/prepared
    deps:
    - path: data/prepared
      md5: 7870636af441f6a2358ac2b71ac57a47.dir
      size: 834301147
      nfiles: 2
    - path: preprocess_products.py
      md5: 0bfab1471eb97b3733f55c55f7597e5e
      size: 3214
    params:
      params.yaml:
        preprocess_products:
          word2vec_features: true
          handpicked_features: true
          word2vec_model_name: glove-wiki-gigaword-300
          occurrence_threshold: 500
    outs:
    - path: data/products
      md5: ec94c6cf85277e9b56ca7124893f1c91.dir
      size: 754292159
      nfiles: 1
  preprocess_reviews:
    cmd: python preprocess_reviews.py data/prepared
    deps:
    - path: data/prepared
      md5: 7870636af441f6a2358ac2b71ac57a47.dir
      size: 834301147
      nfiles: 2
    - path: preprocess_reviews.py
      md5: 0c778d4227afa4c18417bc332a2507cd
      size: 1849
    outs:
    - path: data/reviews
      md5: e0866fe512426dbf79e2bd5ee359096b.dir
      size: 158450968
      nfiles: 1
  success_metrics:
    cmd: python create_success_metrics.py data/products data/reviews
    deps:
    - path: create_success_metrics.py
      md5: 52fad55e66a58f46424dbc465aca45d9
      size: 1920
    - path: data/products
      md5: ec94c6cf85277e9b56ca7124893f1c91.dir
      size: 754292159
      nfiles: 1
    - path: data/reviews
      md5: e0866fe512426dbf79e2bd5ee359096b.dir
      size: 158450968
      nfiles: 1
    params:
      params.yaml:
        success_metrics.cutoff: 2
    outs:
    - path: data/metrics
      md5: 04ea029670425bcc5e9359be3ec965bd.dir
      size: 757044146
      nfiles: 1
  supervised_model:
    cmd: python model_supervised.py data/metrics
    deps:
    - path: data/metrics
      md5: 04ea029670425bcc5e9359be3ec965bd.dir
      size: 757044146
      nfiles: 1
    - path: model_supervised.py
      md5: 1a5821a78e5462262028b3358173193f
      size: 10360
    params:
      params.yaml:
        supervised_model.gscv: true
        supervised_model.model_type: LogisticRegression
        supervised_model.n_jobs: 1
        supervised_model.oversample: false
        supervised_model.param_dict:
          C:
          - 0.0001
          - 0.000145634848
          - 0.000212095089
          - 0.00030888436
          - 0.000449843267
          - 0.000655128557
          - 0.000954095476
          - 0.00138949549
          - 0.00202358965
          - 0.0029470517
          - 0.00429193426
          - 0.00625055193
          - 0.00910298178
          - 0.0132571137
          - 0.0193069773
          - 0.028117687
          - 0.0409491506
          - 0.0596362332
          - 0.0868511374
          - 0.126485522
          - 0.184206997
          - 0.26826958
          - 0.390693994
          - 0.568986603
          - 0.828642773
          - 1.20679264
          - 1.75751062
          - 2.55954792
          - 3.72759372
          - 5.42867544
          - 7.90604321
          - 11.513954
          - 16.7683294
          - 24.4205309
          - 35.5648031
          - 51.7947468
          - 75.4312006
          - 109.854114
          - 159.985872
          - 232.995181
          - 339.322177
          - 494.171336
          - 719.685673
          - 1048.11313
          - 1526.41797
          - 2222.99648
          - 3237.45754
          - 4714.86636
          - 6866.48845
          - 10000.0
          penalty:
          - l1
          - l2
          random_state:
          - 42
          solver:
          - saga
        supervised_model.params:
          random_state: 42
          C: 100
          gamma: 1
          kernel: rbf
        supervised_model.return_train_score: false
        supervised_model.scale: true
        supervised_model.split: 0.8
    outs:
    - path: model/X_test.npy
      md5: 1cce733a63b97b7d0dcafd0ef6601e0a
      size: 1330688
    - path: model/X_train.npy
      md5: 5b5e2d3599bf0d96251b0da80bcc3054
      size: 10644168
    - path: model/X_val.npy
      md5: 82181fa8019c69a99f7737ce3d276dc1
      size: 1330688
    - path: model/model.pkl
      md5: 851e873dbc9424707e905184dc207408
      size: 1110
    - path: model/y_test.npy
      md5: 1904ae6bb31dc9abd611dae8adb6e5ac
      size: 12224
    - path: model/y_train.npy
      md5: 93f4e0ee3fec57f9d0938f0d1a3b798a
      size: 96892
    - path: model/y_val.npy
      md5: e30acb8ce8b20af1197c760f6aed8ee6
      size: 12224
  evaluate_supervised:
    cmd: python evaluate_supervised.py prdct_supervised_report.json
    deps:
    - path: evaluate_supervised.py
      md5: 1d2f9f4287e3929337ed6ef98f749b98
      size: 6979
    - path: model/
      md5: c029de3b673390818cbc878cda0425c6.dir
      size: 13428084
      nfiles: 8
    outs:
    - path: prdct_supervised_report.json
      md5: 2b7919987fd2a3fb62127489bb826504
      size: 3321
  prepare_fake_labeled_model:
    cmd: python .\load_prepare_fake_labeled_data.py
    deps:
    - path: data/fake/labeled_data/amazon_reviews_labeled.txt
      md5: ec3f2c1ef9598b56c38fbc00c0ac90de
      size: 8404357
    - path: load_prepare_fake_labeled_data.py
      md5: 8102f957c21d95ec50ef2c48e41c9d72
      size: 2244
    outs:
    - path: data/fake/training
      md5: eefbc6951b4e00dfaf8936f6688967bb.dir
      size: 83484335
      nfiles: 1
